<div class="list-header">
  <h2>Reservas</h2>
  <button mat-flat-button class="primary-action-btn" (click)="toggleForm()">
    <mat-icon>add</mat-icon> Nueva reserva
  </button>

</div>

@if (showForm) {
  <app-reservation-form
    [reservation]="editingReservation"
    (reservationCreated)="onReservationSaved()"
    (cancel)="toggleForm()">
  </app-reservation-form>
}

<!-- 🧾 Tabla genérica con columna “Pago” integrada -->
<app-generic-table
  [dataSource]="dataSource.data"
  [cols]="reservationColumns"
  entityName="reserva"
  [allowDelete]="false"
  (edit)="editReservation($event)"
  (onStatusChange)="updatePaymentStatus($event.row, $event.event)">
</app-generic-table>
