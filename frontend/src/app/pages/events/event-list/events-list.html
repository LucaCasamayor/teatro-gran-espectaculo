<section class="events-header">
  <h2>Eventos</h2>
  <button mat-flat-button color="primary" (click)="onCreate()">
    + Nuevo Evento
  </button>
</section>

@if (loading) {
  <p>Cargando eventos...</p>
} @else {
  <section class="events-container">
    @for (event of events; track event.id) {
      <mat-card [ngClass]="getCardClass(event.status)">
        <mat-card-header>
          <mat-card-title>{{ event.title }}</mat-card-title>
          <mat-card-subtitle>
            {{ event.type }} â€¢ {{ event.startDateTime | date: 'short' }}
          </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <p class="desc">{{ event.description }}</p>
          <p class="status">Estado: <strong>{{ event.status }}</strong></p>
        </mat-card-content>

        <mat-card-actions>
          <button mat-button color="primary" (click)="onEdit(event)">
            Editar
          </button>

          @if (event.status !== 'FINISHED') {
            <button
              mat-stroked-button
              color="accent"
              (click)="onChangeStatus(event)"
            >
              Cambiar estado
            </button>
          }
        </mat-card-actions>
      </mat-card>
    }
  </section>
}

